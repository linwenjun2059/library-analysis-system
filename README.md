# ğŸ“š åŸºäºHive+Sparkçš„é«˜æ ¡å›¾ä¹¦é¦†å€Ÿé˜…è¡Œä¸ºåˆ†æç³»ç»Ÿ

> **æ¯•ä¸šè®¾è®¡é¡¹ç›®** | è¯¾é¢˜ï¼šåŸºäºHive+Sparkçš„é«˜æ ¡å›¾ä¹¦é¦†å€Ÿé˜…è¡Œä¸ºåˆ†æç³»ç»Ÿçš„è®¾è®¡ä¸å®ç°

[![Java](https://img.shields.io/badge/Java-1.8-orange.svg)](https://www.oracle.com/java/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-2.7.18-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Vue](https://img.shields.io/badge/Vue-3.3.4-4FC08D.svg)](https://vuejs.org/)
[![Hadoop](https://img.shields.io/badge/Hadoop-3.3.6-blue.svg)](https://hadoop.apache.org/)
[![Hive](https://img.shields.io/badge/Hive-3.1.2-yellow.svg)](https://hive.apache.org/)
[![Spark](https://img.shields.io/badge/Spark-3.5.6-red.svg)](https://spark.apache.org/)

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºå¤§æ•°æ®æŠ€æœ¯æ ˆçš„é«˜æ ¡å›¾ä¹¦é¦†å€Ÿé˜…è¡Œä¸ºåˆ†æç³»ç»Ÿï¼Œé‡‡ç”¨**åˆ†å±‚æ•°æ®ä»“åº“æ¶æ„**ï¼ˆODSâ†’DWDâ†’DWSâ†’ADSï¼‰ï¼Œé€šè¿‡**Hive**è¿›è¡Œæ•°æ®å­˜å‚¨ä¸ç®¡ç†ï¼Œ**Spark**è¿›è¡Œæ•°æ®å¤„ç†ä¸åˆ†æï¼Œå®ç°äº†ä»åŸå§‹æ•°æ®åˆ°ä¸šåŠ¡åº”ç”¨çš„å®Œæ•´æ•°æ®é“¾è·¯ã€‚ç³»ç»Ÿæä¾›å¤šè§’è‰²æƒé™ç®¡ç†ï¼Œæ”¯æŒç»Ÿè®¡åˆ†æã€ä¸ªæ€§åŒ–æ¨èã€æ•°æ®æŒ–æ˜å’Œé¢„æµ‹åˆ†æç­‰åŠŸèƒ½ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ—ï¸ **åˆ†å±‚æ•°æ®ä»“åº“æ¶æ„**ï¼šODSåŸå§‹æ•°æ®å±‚ â†’ DWDæ˜ç»†æ•°æ®å±‚ â†’ DWSæ±‡æ€»æ•°æ®å±‚ â†’ ADSåº”ç”¨æ•°æ®å±‚
- ğŸ“Š **å¤šç»´åº¦ç»Ÿè®¡åˆ†æ**ï¼šçƒ­é—¨å›¾ä¹¦ã€æ´»è·ƒç”¨æˆ·ã€é™¢ç³»åå¥½ã€å€Ÿé˜…è¶‹åŠ¿ã€æ—¶é—´åˆ†å¸ƒç­‰
- ğŸ¤– **æ™ºèƒ½æ¨èç³»ç»Ÿ**ï¼šåŸºäºALSååŒè¿‡æ»¤ã€å†…å®¹è¿‡æ»¤å’Œçƒ­é—¨æ¨èçš„æ··åˆæ¨èç®—æ³•
- ğŸ” **æ•°æ®æŒ–æ˜åˆ†æ**ï¼šFPGrowthå…³è”è§„åˆ™æŒ–æ˜ã€K-meansç”¨æˆ·èšç±»åˆ†æ
- ğŸ“ˆ **é¢„æµ‹åˆ†ææ¨¡å‹**ï¼šé€¾æœŸé£é™©é¢„æµ‹ã€å€Ÿé˜…è¶‹åŠ¿é¢„æµ‹ã€å›¾ä¹¦çƒ­åº¦é¢„æµ‹
- ğŸ‘¥ **å¤šè§’è‰²æƒé™ç®¡ç†**ï¼šé«˜çº§ç®¡ç†å‘˜ã€å›¾ä¹¦ç®¡ç†å‘˜ã€æ™®é€šç”¨æˆ·ä¸‰çº§æƒé™ä½“ç³»
- ğŸ“± **ç°ä»£åŒ–å‰ç«¯ç•Œé¢**ï¼šåŸºäºVue 3 + Element Plusçš„å“åº”å¼è®¾è®¡
- ğŸ”„ **å®Œæ•´æ•°æ®é“¾è·¯**ï¼šä»CSVåŸå§‹æ•°æ®åˆ°HDFSï¼Œç»è¿‡Sparkå¤„ç†ï¼Œæœ€ç»ˆå¯¼å‡ºåˆ°MySQLä¾›ä¸šåŠ¡ç³»ç»Ÿä½¿ç”¨

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### ç³»ç»Ÿæ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ç”¨æˆ·è®¿é—®å±‚                                      â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚   Vue 3 å‰ç«¯åº”ç”¨              â”‚                        â”‚
â”‚                    â”‚   (Element Plus + ECharts)   â”‚                        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                   â”‚ HTTP/HTTPS                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           åº”ç”¨æœåŠ¡å±‚                                        â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚   Spring Boot åç«¯æœåŠ¡        â”‚                        â”‚
â”‚                    â”‚   (RESTful API + JWTè®¤è¯)    â”‚                        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                   â”‚ JDBC                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ä¸šåŠ¡æ•°æ®å±‚                                        â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚   MySQL ä¸šåŠ¡æ•°æ®åº“            â”‚                        â”‚
â”‚                    â”‚   (30å¼ ä¸šåŠ¡è¡¨ + 1å¼ ç³»ç»Ÿè¡¨)   â”‚                        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          å¤§æ•°æ®å¤„ç†å±‚                                        â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚   HDFS       â”‚    â”‚   Hive      â”‚    â”‚   Spark      â”‚                  â”‚
â”‚  â”‚  (åˆ†å¸ƒå¼å­˜å‚¨) â”‚â—„â”€â”€â”€â–ºâ”‚  (æ•°æ®ä»“åº“) â”‚â—„â”€â”€â”€â–ºâ”‚  (è®¡ç®—å¼•æ“)  â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚         â–²                    â–²                    â–²                        â”‚
â”‚         â”‚                    â”‚                    â”‚                        â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                              â”‚                                               â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚                    â”‚  æ•°æ®ä»“åº“åˆ†å±‚æ¶æ„  â”‚                                    â”‚
â”‚                    â”‚  ODS â†’ DWD â†’ DWS â†’ ADS                                â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚                              â”‚                                               â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚                    â”‚  Sparkæ•°æ®å¤„ç†    â”‚                                    â”‚
â”‚                    â”‚  (PySparkè„šæœ¬)    â”‚                                    â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚                              â”‚                                               â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚                    â”‚  æ•°æ®å¯¼å‡ºåˆ°MySQL  â”‚                                    â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          æ•°æ®æºå±‚                                            â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚   CSVåŸå§‹æ•°æ®æ–‡ä»¶             â”‚                        â”‚
â”‚                    â”‚   (LENDHIST2019_2020.csv)    â”‚                        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

#### åç«¯æŠ€æœ¯
- **æ¡†æ¶**ï¼šSpring Boot 2.7.18
- **ORM**ï¼šMyBatis-Plus 3.5.3.1
- **æ•°æ®åº“**ï¼šMySQL 8.0.33
- **è¿æ¥æ± **ï¼šDruid 1.2.20
- **è®¤è¯**ï¼šJWT (io.jsonwebtoken 0.11.5)
- **APIæ–‡æ¡£**ï¼šSwagger 3.0.0
- **å·¥å…·ç±»**ï¼šHutool 5.8.22

#### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**ï¼šVue 3.3.4
- **æ„å»ºå·¥å…·**ï¼šVite 4.5.0
- **UIç»„ä»¶åº“**ï¼šElement Plus 2.3.14
- **çŠ¶æ€ç®¡ç†**ï¼šPinia 2.1.7
- **è·¯ç”±**ï¼šVue Router 4.2.5
- **å›¾è¡¨åº“**ï¼šECharts 5.4.3
- **HTTPå®¢æˆ·ç«¯**ï¼šAxios 1.6.2

#### å¤§æ•°æ®æŠ€æœ¯
- **åˆ†å¸ƒå¼å­˜å‚¨**ï¼šHadoop 3.3.6
- **æ•°æ®ä»“åº“**ï¼šHive 3.1.2
- **è®¡ç®—å¼•æ“**ï¼šSpark 3.5.6
- **æ•°æ®å¤„ç†**ï¼šPySpark 3.5.6 + Pandas
- **æ•°æ®åº“**ï¼šMySQL 8.0.33

### æ•°æ®ä»“åº“åˆ†å±‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CSVåŸå§‹æ•°æ®                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ODSå±‚ (åŸå§‹æ•°æ®å±‚)                                       â”‚
â”‚  - ods_library_lend: åŸå§‹å€Ÿé˜…æ•°æ®                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ Sparkæ•°æ®æ¸…æ´—
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DWDå±‚ (æ˜ç»†æ•°æ®å±‚)                                       â”‚
â”‚  - dwd_user_info: ç”¨æˆ·ç»´åº¦è¡¨                             â”‚
â”‚  - dwd_book_info: å›¾ä¹¦ç»´åº¦è¡¨                             â”‚
â”‚  - dwd_lend_detail: å€Ÿé˜…æ˜ç»†äº‹å®è¡¨                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ Sparkæ•°æ®æ±‡æ€»
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DWSå±‚ (æ±‡æ€»æ•°æ®å±‚)                                       â”‚
â”‚  - dws_user_lend_summary: ç”¨æˆ·å€Ÿé˜…æ±‡æ€»                   â”‚
â”‚  - dws_book_lend_summary: å›¾ä¹¦å€Ÿé˜…æ±‡æ€»                   â”‚
â”‚  - dws_dept_lend_summary: é™¢ç³»å€Ÿé˜…æ±‡æ€»                   â”‚
â”‚  - dws_subject_lend_summary: ä¸»é¢˜åˆ†ç±»æ±‡æ€»                â”‚
â”‚  - dws_daily_stats: æ¯æ—¥ç»Ÿè®¡                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ Sparkæ•°æ®åˆ†æ
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ADSå±‚ (åº”ç”¨æ•°æ®å±‚)                                       â”‚
â”‚  - ads_hot_books: çƒ­é—¨å›¾ä¹¦TOP100                         â”‚
â”‚  - ads_active_users: æ´»è·ƒç”¨æˆ·TOP100                      â”‚
â”‚  - ads_dept_preference: é™¢ç³»åå¥½åˆ†æ                     â”‚
â”‚  - ads_lend_trend: å€Ÿé˜…è¶‹åŠ¿                             â”‚
â”‚  - ads_operation_dashboard: è¿è¥çœ‹æ¿                    â”‚
â”‚  - ads_user_profile: ç”¨æˆ·ç”»åƒåˆ†æ                       â”‚
â”‚  - ads_major_reading_profile: ä¸“ä¸šé˜…è¯»ç‰¹å¾               â”‚
â”‚  - ads_collection_utilization: é¦†è—åˆ©ç”¨åˆ†æ              â”‚
â”‚  - ads_overdue_analysis: é€¾æœŸåˆ†æ                        â”‚
â”‚  - ads_time_distribution: æ—¶é—´åˆ†å¸ƒåˆ†æ                   â”‚
â”‚  - ads_user_ranking: ç”¨æˆ·æ’å                            â”‚
â”‚  - ads_book_recommend_base: å›¾ä¹¦æ¨èåŸºç¡€è¡¨                â”‚
â”‚  - ads_publisher_analysis: å‡ºç‰ˆç¤¾åˆ†æ                     â”‚
â”‚  - ads_publish_year_analysis: å‡ºç‰ˆå¹´ä»½åˆ†æ                â”‚
â”‚  - ads_book_association: å›¾ä¹¦å…³è”è§„åˆ™ï¼ˆå¯é€‰ï¼‰             â”‚
â”‚  - ads_user_cluster: ç”¨æˆ·èšç±»åˆ†ç¾¤ï¼ˆå¯é€‰ï¼‰                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ Sparkæ•°æ®å¯¼å‡º
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MySQLä¸šåŠ¡æ•°æ®åº“                        â”‚
â”‚                    (31å¼ è¡¨)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Spring Bootåç«¯APIæœåŠ¡                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Vue 3å‰ç«¯åº”ç”¨ (Element Plus)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
library-analysis-system/
â”œâ”€â”€ backend/                          # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/main/java/com/library/
â”‚   â”‚   â”œâ”€â”€ common/                   # é€šç”¨ç±»ï¼ˆResultã€PageResultç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ config/                   # é…ç½®ç±»ï¼ˆCORSã€MyBatis-Plusã€Swaggerï¼‰
â”‚   â”‚   â”œâ”€â”€ controller/               # æ§åˆ¶å™¨ï¼ˆ6ä¸ªControllerï¼‰
â”‚   â”‚   â”œâ”€â”€ dto/                      # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”œâ”€â”€ entity/                   # å®ä½“ç±»ï¼ˆ31ä¸ªå®ä½“ï¼‰
â”‚   â”‚   â”œâ”€â”€ exception/                # å¼‚å¸¸å¤„ç†
â”‚   â”‚   â”œâ”€â”€ mapper/                   # MyBatis Mapperï¼ˆ31ä¸ªMapperï¼‰
â”‚   â”‚   â”œâ”€â”€ service/                  # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ utils/                    # å·¥å…·ç±»ï¼ˆJWTç­‰ï¼‰
â”‚   â”‚   â””â”€â”€ vo/                       # è§†å›¾å¯¹è±¡
â”‚   â””â”€â”€ src/main/resources/
â”‚       â””â”€â”€ application.yml           # åº”ç”¨é…ç½®
â”‚
â”œâ”€â”€ frontend/                         # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/                      # APIæ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ layouts/                  # å¸ƒå±€ç»„ä»¶ï¼ˆAdminã€Librarianã€Userï¼‰
â”‚   â”‚   â”œâ”€â”€ router/                   # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ stores/                   # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ utils/                    # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ views/                    # é¡µé¢è§†å›¾
â”‚   â”‚       â”œâ”€â”€ admin/                # é«˜çº§ç®¡ç†å‘˜é¡µé¢ï¼ˆ9ä¸ªé¡µé¢ï¼‰
â”‚   â”‚       â”œâ”€â”€ librarian/            # å›¾ä¹¦ç®¡ç†å‘˜é¡µé¢ï¼ˆ7ä¸ªé¡µé¢ï¼‰
â”‚   â”‚       â””â”€â”€ user/                 # æ™®é€šç”¨æˆ·é¡µé¢ï¼ˆ6ä¸ªé¡µé¢ï¼‰
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”‚
â”œâ”€â”€ bigdata/                          # å¤§æ•°æ®å¤„ç†
â”‚   â”œâ”€â”€ hive/                         # Hiveæ•°æ®ä»“åº“SQL
â”‚   â”‚   â”œâ”€â”€ 01_create_ods.sql         # ODSå±‚è¡¨ç»“æ„
â”‚   â”‚   â”œâ”€â”€ 02_create_dwd.sql         # DWDå±‚è¡¨ç»“æ„
â”‚   â”‚   â”œâ”€â”€ 03_create_dws.sql         # DWSå±‚è¡¨ç»“æ„
â”‚   â”‚   â””â”€â”€ 04_create_ads.sql         # ADSå±‚è¡¨ç»“æ„
â”‚   â”œâ”€â”€ spark/                        # Sparkå¤„ç†è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ 01_data_clean.py          # æ•°æ®æ¸…æ´—ï¼ˆODSâ†’DWDï¼‰
â”‚   â”‚   â”œâ”€â”€ 02_data_aggregate.py      # æ•°æ®æ±‡æ€»ï¼ˆDWDâ†’DWSï¼‰
â”‚   â”‚   â”œâ”€â”€ 03_data_analyze.py        # æ•°æ®åˆ†æï¼ˆDWSâ†’ADSï¼‰
â”‚   â”‚   â”œâ”€â”€ 04_data_export.py         # æ•°æ®å¯¼å‡ºï¼ˆHiveâ†’MySQLï¼‰
â”‚   â”‚   â”œâ”€â”€ 05_book_recommend.py      # å›¾ä¹¦æ¨èç®—æ³•
â”‚   â”‚   â”œâ”€â”€ 06_advanced_analysis.py    # é«˜çº§æ•°æ®æŒ–æ˜ï¼ˆFPGrowth+K-meansï¼‰
â”‚   â”‚   â”œâ”€â”€ 07_prediction_models.py   # é¢„æµ‹åˆ†ææ¨¡å‹
â”‚   â”‚   â””â”€â”€ requirements.txt          # Pythonä¾èµ–
â”‚   â””â”€â”€ mysql/
â”‚       â””â”€â”€ init_mysql.sql            # MySQLæ•°æ®åº“åˆå§‹åŒ–ï¼ˆ31å¼ è¡¨ï¼‰
â”‚
â”œâ”€â”€ data/                             # æ•°æ®æ–‡ä»¶
â”‚   â””â”€â”€ LENDHIST2019_2020.csv         # åŸå§‹å€Ÿé˜…æ•°æ®
â”‚
â””â”€â”€ deploy/                           # éƒ¨ç½²è„šæœ¬
    â”œâ”€â”€ run.sh                        # æ•°æ®é“¾è·¯æ‰§è¡Œè„šæœ¬
    â”œâ”€â”€ verify.sh                     # æ•°æ®éªŒè¯è„šæœ¬
    â”œâ”€â”€ clean_old_data.sh             # æ•°æ®æ¸…ç†è„šæœ¬
    â””â”€â”€ config.sh                     # é…ç½®è„šæœ¬
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

> ğŸ’¡ **æƒ³è¦5åˆ†é’Ÿå¿«é€Ÿå¯åŠ¨ï¼Ÿ** æŸ¥çœ‹ [QUICKSTART.md](QUICKSTART.md) å¿«é€Ÿå¯åŠ¨æŒ‡å—

### ç¯å¢ƒè¦æ±‚

#### å¿…éœ€ç»„ä»¶
- **JDK**: 1.8+
- **Hadoop**: 3.3.6
- **Hive**: 3.1.2
- **Spark**: 3.5.6
- **MySQL**: 8.0.33+
- **Python**: 3.8+

#### å¯é€‰ç»„ä»¶ï¼ˆå‰åç«¯ï¼‰
- **Node.js**: 16+
- **Maven**: 3.6+

#### æ¨èé›†ç¾¤é…ç½®ï¼ˆ10ä¸‡æ¡æ•°æ®ï¼‰
| èŠ‚ç‚¹ | è§’è‰² | é…ç½® |
|-----|------|------|
| master | NameNode, ResourceManager, Hive Metastore | 8Gå†…å­˜, 4æ ¸CPU |
| slave1 | DataNode, NodeManager | 4Gå†…å­˜, 4æ ¸CPU |
| slave2 | DataNode, NodeManager | 4Gå†…å­˜, 4æ ¸CPU |

### å®‰è£…æ­¥éª¤

#### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿ä»¥ä¸‹æœåŠ¡æ­£å¸¸è¿è¡Œï¼š

```bash
# æ£€æŸ¥Hadoopé›†ç¾¤
hdfs dfsadmin -report
yarn node -list

# æ£€æŸ¥Hive Metastore
jps | grep HiveMetaStore
hive -e "SHOW DATABASES"

# æ£€æŸ¥Spark
spark-submit --version
```

#### 2. åˆå§‹åŒ–MySQLæ•°æ®åº“

```bash
mysql -uroot -p < bigdata/mysql/init_mysql.sql
mysql -uroot -p library_analysis -e "SHOW TABLES;"
# é¢„æœŸè¾“å‡ºï¼š31å¼ è¡¨
```

#### 3. å‡†å¤‡æ•°æ®æ–‡ä»¶

å°†CSVæ•°æ®æ–‡ä»¶ä¸Šä¼ åˆ°Hadoopé›†ç¾¤ï¼š
ï¼ˆåŸå§‹æ•°æ®ä¸ºé€—å·åˆ†éš”CSVï¼ŒSparkè„šæœ¬æŒ‰é€—å·åˆ†éš”è¯»å–ï¼‰

```bash
# ä¸Šä¼ åˆ°HDFS
hdfs dfs -put data/LENDHIST2019_2020.csv /data/library/raw/
```

#### 4. å®‰è£…Pythonä¾èµ–

```bash
pip3 install -r bigdata/spark/requirements.txt
```

#### 5. æ‰§è¡Œæ•°æ®é“¾è·¯

```bash
cd deploy
bash run.sh
```

æ•°æ®é“¾è·¯åŒ…å«ä»¥ä¸‹æ­¥éª¤ï¼š
1. ä¸Šä¼ åŸå§‹æ•°æ®åˆ°HDFS
2. åˆ›å»ºHiveè¡¨ç»“æ„ï¼ˆODS/DWD/DWS/ADSï¼‰
3. æ•°æ®æ¸…æ´—ï¼ˆODS â†’ DWDï¼‰
4. æ•°æ®æ±‡æ€»ï¼ˆDWD â†’ DWSï¼‰
5. æ•°æ®åˆ†æï¼ˆDWS â†’ ADSï¼‰
6. å¯¼å‡ºMySQLï¼ˆHive â†’ MySQLï¼‰
7. æ¨èç®—æ³•ï¼ˆå¯é€‰ï¼‰- æ‰§è¡Œ `05_book_recommend.py`
8. é«˜çº§æ•°æ®æŒ–æ˜ï¼ˆå¯é€‰ï¼‰- æ‰§è¡Œ `06_advanced_analysis.py`ï¼ˆFPGrowthå…³è”è§„åˆ™ + K-meansç”¨æˆ·èšç±»ï¼‰
9. é¢„æµ‹æ¨¡å‹ï¼ˆå¯é€‰ï¼‰- æ‰§è¡Œ `07_prediction_models.py`

#### 6. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend
mvn clean package
java -jar target/library-analysis-system-1.0.0.jar
```

åç«¯æœåŠ¡å¯åŠ¨åï¼š
- APIåœ°å€ï¼šhttp://localhost:8080/api
- Swaggeræ–‡æ¡£ï¼šhttp://localhost:8080/api/swagger-ui/index.html
- Druidç›‘æ§ï¼šhttp://localhost:8080/api/druid/index.html

#### 7. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd frontend
npm install
npm run dev
```

å‰ç«¯æœåŠ¡å¯åŠ¨åè®¿é—®ï¼šhttp://localhost:3000

### éªŒè¯éƒ¨ç½²

```bash
cd deploy
bash verify.sh
```

## ğŸ‘¥ ç”¨æˆ·è§’è‰²ä¸åŠŸèƒ½

### ğŸ”´ ç³»ç»Ÿç®¡ç†å‘˜ï¼ˆé«˜çº§ç®¡ç†å‘˜ï¼‰ï¼ˆuserType=1ï¼‰

**æˆ˜ç•¥å†³ç­–å±‚**ï¼Œè´Ÿè´£æ•´ä½“è¿è¥åˆ†æå’Œæ•°æ®æŒ–æ˜ï¼š

- **è¿è¥çœ‹æ¿**ï¼šæ•´ä½“æ•°æ®æ¦‚è§ˆã€å…³é”®æŒ‡æ ‡ç›‘æ§
- **ç”¨æˆ·ç”»åƒ**ï¼šç”¨æˆ·è¡Œä¸ºç‰¹å¾ã€é˜…è¯»åå¥½åˆ†æ
- **ä¸“ä¸šé˜…è¯»**ï¼šå„ä¸“ä¸šé˜…è¯»è¡Œä¸ºç‰¹å¾åˆ†æ
- **æ¨èç›‘æ§**ï¼šæ¨èç®—æ³•æ•ˆæœè¯„ä¼°
- **é¦†è—åˆ©ç”¨**ï¼šå›¾ä¹¦åˆ©ç”¨ç‡ã€é¦†è—åˆ†å¸ƒåˆ†æï¼ˆå«ä½ç½®/ä¸»é¢˜ç»´åº¦ï¼‰
- **å‡ºç‰ˆåˆ†æ**ï¼šå‡ºç‰ˆç¤¾å’Œå‡ºç‰ˆå¹´ä»½ç»¼åˆåˆ†æ
- **é¢„æµ‹åˆ†æ**ï¼šé€¾æœŸé£é™©ã€å€Ÿé˜…è¶‹åŠ¿ã€å›¾ä¹¦çƒ­åº¦é¢„æµ‹
- **å›¾ä¹¦å…³è”åˆ†æ**ï¼šåŸºäºFPGrowthç®—æ³•çš„å…³è”è§„åˆ™æŒ–æ˜
- **ç”¨æˆ·èšç±»åˆ†æ**ï¼šåŸºäºK-meansç®—æ³•çš„ç”¨æˆ·åˆ†ç¾¤

### ğŸŸ¡ å›¾ä¹¦ç®¡ç†å‘˜ï¼ˆuserType=2ï¼‰

**ä¸šåŠ¡æ‰§è¡Œå±‚**ï¼Œè´Ÿè´£æ—¥å¸¸ä¸šåŠ¡ç®¡ç†å’Œç»Ÿè®¡åˆ†æï¼š

- **å·¥ä½œå°**ï¼šä¸šåŠ¡æ•°æ®æ¦‚è§ˆ
- **å€Ÿé˜…è®°å½•æŸ¥è¯¢**ï¼šå€Ÿé˜…è®°å½•æŸ¥è¯¢ä¸ç®¡ç†
- **é€¾æœŸæƒ…å†µåˆ†æ**ï¼šé€¾æœŸæ•°æ®ç»Ÿè®¡åˆ†æ
- **æ´»è·ƒç”¨æˆ·åˆ†æ**ï¼šTOP100æ´»è·ƒç”¨æˆ·
- **å›¾ä¹¦æ’è¡Œä¸åˆ†æ**ï¼šå¤šç»´åº¦å›¾ä¹¦æ’è¡Œæ¦œ
- **å›¾ä¹¦è¯¦æƒ…åˆ†æ**ï¼šå•æœ¬å›¾ä¹¦å€Ÿé˜…åˆ†æ
- **æ—¶é—´ä¸ç»­å€Ÿåˆ†æ**ï¼šå€Ÿé˜…æ—¶é—´åˆ†å¸ƒå’Œç»­å€Ÿè¡Œä¸ºåˆ†æ

### ğŸŸ¢ æ™®é€šç”¨æˆ·ï¼ˆuserType=3ï¼‰

**å­¦ç”Ÿ/æ•™å¸ˆ**ï¼ŒæŸ¥çœ‹ä¸ªäººæ•°æ®å’Œæ¨èï¼š

- **ä¸ªäººä¸­å¿ƒ**ï¼šä¸ªäººå€Ÿé˜…æ•°æ®æ¦‚è§ˆ
- **å€Ÿé˜…è®°å½•**ï¼šå†å²å€Ÿé˜…è®°å½•æŸ¥è¯¢
- **å›¾ä¹¦æ¨è**ï¼šä¸ªæ€§åŒ–æ¨èå›¾ä¹¦
- **æˆ‘çš„é˜…è¯»ç”»åƒ**ï¼šä¸ªäººé˜…è¯»ç‰¹å¾åˆ†æ
- **æˆ‘çš„æ’å**ï¼šåœ¨å…¨æ ¡/é™¢ç³»ä¸­çš„æ’å
- **å€Ÿé˜…æ—¥å†**ï¼šå€Ÿé˜…æ—¶é—´å¯è§†åŒ–

## ğŸ“Š æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### åŠŸèƒ½æ¨¡å—æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å›¾ä¹¦é¦†å€Ÿé˜…åˆ†æç³»ç»ŸåŠŸèƒ½æ¨¡å—                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. æ•°æ®ä»“åº“å»ºè®¾æ¨¡å—                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  ODSå±‚   â”‚â”€â–ºâ”‚  DWDå±‚   â”‚â”€â–ºâ”‚  DWSå±‚   â”‚â”€â–ºâ”‚  ADSå±‚   â”‚                  â”‚
â”‚  â”‚ åŸå§‹æ•°æ®  â”‚  â”‚ æ˜ç»†æ•°æ®  â”‚  â”‚ æ±‡æ€»æ•°æ®  â”‚  â”‚ åº”ç”¨æ•°æ®  â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚       â”‚             â”‚             â”‚             â”‚                          â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                         Spark ETLå¤„ç†æµç¨‹                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. ç»Ÿè®¡åˆ†ææ¨¡å—                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ çƒ­é—¨å›¾ä¹¦åˆ†æ  â”‚  â”‚ æ´»è·ƒç”¨æˆ·åˆ†æ  â”‚  â”‚ é™¢ç³»åå¥½åˆ†æ  â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ å€Ÿé˜…è¶‹åŠ¿åˆ†æ  â”‚  â”‚ æ—¶é—´åˆ†å¸ƒåˆ†æ  â”‚  â”‚ é€¾æœŸåˆ†æ     â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. æ¨èç³»ç»Ÿæ¨¡å—                                                              â”‚
â”‚                                                                              â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚         â”‚      æ··åˆæ¨èç®—æ³•å¼•æ“                â”‚                            â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                     â”‚                                                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚    â”‚                â”‚                â”‚                                    â”‚
â”‚    â–¼                â–¼                â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚ ALSååŒ â”‚  â”‚ å†…å®¹è¿‡æ»¤ â”‚  â”‚ çƒ­é—¨æ¨è â”‚                                    â”‚
â”‚  â”‚ è¿‡æ»¤ç®—æ³• â”‚  â”‚ ç®—æ³•    â”‚  â”‚ ç®—æ³•    â”‚                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚       â”‚            â”‚            â”‚                                          â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚                  â”‚                                                          â”‚
â”‚                  â–¼                                                          â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚         â”‚  ä¸ªæ€§åŒ–æ¨èåˆ—è¡¨  â”‚                                                â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. æ•°æ®æŒ–æ˜æ¨¡å—                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚  FPGrowthå…³è”è§„åˆ™     â”‚  â”‚  K-meansç”¨æˆ·èšç±»      â”‚                      â”‚
â”‚  â”‚  æŒ–æ˜å›¾ä¹¦å…³è”å…³ç³»     â”‚  â”‚  è¯†åˆ«é˜…è¯»åå¥½ç¾¤ä½“     â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. é¢„æµ‹åˆ†ææ¨¡å—                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚ é€¾æœŸé£é™©é¢„æµ‹         â”‚  â”‚ å€Ÿé˜…è¶‹åŠ¿é¢„æµ‹          â”‚                      â”‚
â”‚  â”‚ (éšæœºæ£®æ—ç®—æ³•)       â”‚  â”‚ (æ—¶é—´åºåˆ—å›å½’)        â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚  â”‚ å›¾ä¹¦çƒ­åº¦é¢„æµ‹          â”‚                                                â”‚
â”‚  â”‚ (æ—¶é—´åºåˆ—é¢„æµ‹)        â”‚                                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ç”¨æˆ·è§’è‰²æƒé™ä½“ç³»                                    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  é«˜çº§ç®¡ç†å‘˜       â”‚  â”‚  å›¾ä¹¦ç®¡ç†å‘˜       â”‚  â”‚  æ™®é€šç”¨æˆ·         â”‚      â”‚
â”‚  â”‚  (userType=1)    â”‚  â”‚  (userType=2)    â”‚  â”‚  (userType=3)     â”‚      â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚      â”‚
â”‚  â”‚ â€¢ è¿è¥åˆ†æ        â”‚  â”‚ â€¢ ä¸šåŠ¡ç®¡ç†        â”‚  â”‚ â€¢ ä¸ªäººæ•°æ®        â”‚      â”‚
â”‚  â”‚ â€¢ æ•°æ®æŒ–æ˜        â”‚  â”‚ â€¢ ç»Ÿè®¡åˆ†æ        â”‚  â”‚ â€¢ å›¾ä¹¦æ¨è        â”‚      â”‚
â”‚  â”‚ â€¢ é¢„æµ‹åˆ†æ        â”‚  â”‚ â€¢ é€¾æœŸç®¡ç†        â”‚  â”‚ â€¢ é˜…è¯»ç”»åƒ        â”‚      â”‚
â”‚  â”‚ â€¢ ç³»ç»Ÿç›‘æ§        â”‚  â”‚ â€¢ æ—¶é—´åˆ†æ        â”‚  â”‚ â€¢ æ’åæŸ¥è¯¢        â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1. æ•°æ®ä»“åº“å»ºè®¾

- **ODSå±‚**ï¼šåŸå§‹æ•°æ®å­˜å‚¨ï¼Œç›´æ¥æ˜ å°„CSVæ–‡ä»¶ç»“æ„
- **DWDå±‚**ï¼šæ•°æ®æ¸…æ´—ï¼Œç”Ÿæˆç”¨æˆ·ã€å›¾ä¹¦ç»´åº¦è¡¨å’Œå€Ÿé˜…æ˜ç»†äº‹å®è¡¨
- **DWSå±‚**ï¼šæ•°æ®æ±‡æ€»ï¼ŒæŒ‰ç”¨æˆ·ã€å›¾ä¹¦ã€é™¢ç³»ã€ä¸»é¢˜ã€æ—¥æœŸç»´åº¦æ±‡æ€»
- **ADSå±‚**ï¼šåº”ç”¨æ•°æ®ï¼Œç”Ÿæˆ14å¼ æ ¸å¿ƒåˆ†æè¡¨ä¾›ä¸šåŠ¡ç³»ç»Ÿä½¿ç”¨ï¼ˆé«˜çº§æ•°æ®æŒ–æ˜å¯é€‰ç”Ÿæˆå…³è”è§„åˆ™/ç”¨æˆ·èšç±»ç­‰é™„åŠ è¡¨ï¼‰

### 2. ç»Ÿè®¡åˆ†æ

- **çƒ­é—¨å›¾ä¹¦åˆ†æ**ï¼šTOP100çƒ­é—¨å›¾ä¹¦ï¼Œæ”¯æŒå¤šç»´åº¦æ’åº
- **æ´»è·ƒç”¨æˆ·åˆ†æ**ï¼šTOP100æ´»è·ƒç”¨æˆ·ï¼Œå€Ÿé˜…é‡ç»Ÿè®¡
- **é™¢ç³»åå¥½åˆ†æ**ï¼šå„é™¢ç³»å€Ÿé˜…åå¥½ã€ä¸»é¢˜åˆ†å¸ƒ
- **å€Ÿé˜…è¶‹åŠ¿åˆ†æ**ï¼šæ—¶é—´åºåˆ—è¶‹åŠ¿ã€åŒæ¯”ç¯æ¯”åˆ†æ
- **æ—¶é—´åˆ†å¸ƒåˆ†æ**ï¼šæŒ‰å°æ—¶ã€æ˜ŸæœŸã€æœˆä»½åˆ†æå€Ÿé˜…æ¨¡å¼
- **é€¾æœŸåˆ†æ**ï¼šé€¾æœŸç‡ç»Ÿè®¡ã€é€¾æœŸç”¨æˆ·åˆ†æ

### 3. æ¨èç³»ç»Ÿ

é‡‡ç”¨**æ··åˆæ¨èç®—æ³•**ï¼Œç»“åˆä¸‰ç§æ¨èç­–ç•¥ï¼š

- **ALSååŒè¿‡æ»¤**ï¼šåŸºäºç”¨æˆ·å€Ÿé˜…å†å²çš„ç›¸ä¼¼åº¦æ¨è
- **å†…å®¹è¿‡æ»¤**ï¼šåŸºäºå›¾ä¹¦ä¸»é¢˜ç›¸ä¼¼åº¦çš„æ¨è
- **çƒ­é—¨æ¨è**ï¼šåŸºäºå€Ÿé˜…çƒ­åº¦çš„æ¨è
- **æ··åˆæ¨è**ï¼šåŠ æƒèåˆä¸‰ç§ç®—æ³•ï¼Œç”Ÿæˆä¸ªæ€§åŒ–æ¨èåˆ—è¡¨

### 4. æ•°æ®æŒ–æ˜

- **FPGrowthå…³è”è§„åˆ™**ï¼šæŒ–æ˜å›¾ä¹¦ä¹‹é—´çš„å…³è”å…³ç³»ï¼ˆå¦‚ï¼šå€Ÿé˜…Aå›¾ä¹¦çš„ç”¨æˆ·ä¹Ÿå€¾å‘äºå€Ÿé˜…Bå›¾ä¹¦ï¼‰
- **K-meansç”¨æˆ·èšç±»**ï¼šå°†ç”¨æˆ·åˆ†ä¸ºä¸åŒç¾¤ä½“ï¼Œåˆ†æç¾¤ä½“ç‰¹å¾

### 5. é¢„æµ‹åˆ†æ

- **é€¾æœŸé£é™©é¢„æµ‹**ï¼šåŸºäºç”¨æˆ·å†å²è¡Œä¸ºé¢„æµ‹é€¾æœŸé£é™©
- **å€Ÿé˜…è¶‹åŠ¿é¢„æµ‹**ï¼šé¢„æµ‹æœªæ¥å€Ÿé˜…é‡è¶‹åŠ¿
- **å›¾ä¹¦çƒ­åº¦é¢„æµ‹**ï¼šé¢„æµ‹å›¾ä¹¦æœªæ¥çƒ­åº¦å˜åŒ–

### 6. é«˜çº§æ•°æ®æŒ–æ˜

- **FPGrowthå…³è”è§„åˆ™æŒ–æ˜**ï¼šé€šè¿‡ `06_advanced_analysis.py` æ‰§è¡Œï¼ŒæŒ–æ˜å›¾ä¹¦ä¹‹é—´çš„å…³è”å…³ç³»
- **K-meansç”¨æˆ·èšç±»**ï¼šé€šè¿‡ `06_advanced_analysis.py` æ‰§è¡Œï¼Œå°†ç”¨æˆ·åˆ†ä¸ºä¸åŒé˜…è¯»åå¥½ç¾¤ä½“

## ğŸ”§ é…ç½®è¯´æ˜

### åç«¯é…ç½®

ç¼–è¾‘ `backend/src/main/resources/application.yml`ï¼š

```yaml
spring:
  datasource:
    url: jdbc:mysql://master:3306/library_analysis
    username: root
    password: your_password

jwt:
  secret: your_jwt_secret
  expiration: 604800  # 7å¤©
```

### å‰ç«¯é…ç½®

å‰ç«¯é»˜è®¤é€šè¿‡ `baseURL: '/api'` è®¿é—®åç«¯ï¼Œå¼€å‘ç¯å¢ƒç”± Vite ä»£ç†è½¬å‘ï¼ˆè§ `frontend/vite.config.js` çš„ `server.proxy`ï¼‰ã€‚

```javascript
const request = axios.create({
  baseURL: '/api',
  timeout: 30000
})
```

### å¤§æ•°æ®é…ç½®

ç¼–è¾‘ `deploy/config.sh`ï¼Œé…ç½®è¿è¡Œç¯å¢ƒä¿¡æ¯ï¼ˆé»˜è®¤ç¤ºä¾‹ä¸º Linux/é›†ç¾¤è·¯å¾„ä¸ä¸»æœºåï¼ŒWindows å»ºè®®ä½¿ç”¨ WSL æˆ–åœ¨è¿œç¨‹ Linux èŠ‚ç‚¹æ‰§è¡Œï¼Œå¹¶æŒ‰å®é™…ç¯å¢ƒä¿®æ”¹ï¼‰ï¼š

```bash
# HDFSè·¯å¾„é…ç½®
export HDFS_RAW_PATH="/data/library/raw"
export LOCAL_CSV_FILE="/opt/project/library-analysis-system/data/LENDHIST2019_2020.csv"

# Sparkè„šæœ¬ç›®å½•
export PYTHON_SCRIPT_DIR="/opt/project/library-analysis-system/bigdata/spark"

# MySQLé…ç½®
export MYSQL_HOST="master"
export MYSQL_USER="root"
export MYSQL_PASSWORD="your_password"
export MYSQL_DATABASE="library_analysis"

# MySQL JDBCé©±åŠ¨
export MYSQL_JDBC_JAR="/opt/app/spark/jars/mysql-connector-j-8.0.33.jar"
```

## ğŸ“ æ•°æ®åº“è®¾è®¡

ç³»ç»Ÿå…±åŒ…å«**30å¼ ä¸šåŠ¡è¡¨ + 1å¼ ç³»ç»Ÿè¡¨ï¼ˆsys_userï¼‰**ï¼Œå…±31å¼ è¡¨ï¼Œä¸šåŠ¡è¡¨åˆ†ä¸ºä»¥ä¸‹ç±»åˆ«ï¼š

### ç»´åº¦è¡¨ï¼ˆ3å¼ ï¼‰
- `user_dimension`ï¼šç”¨æˆ·ç»´åº¦ä¿¡æ¯
- `book_dimension`ï¼šå›¾ä¹¦ç»´åº¦ä¿¡æ¯
- `recent_lend_records`ï¼šæœ€è¿‘6ä¸ªæœˆå€Ÿé˜…è®°å½•

### æ±‡æ€»è¡¨ï¼ˆ5å¼ ï¼‰
- `user_lend_summary`ï¼šç”¨æˆ·å€Ÿé˜…æ±‡æ€»
- `book_lend_summary`ï¼šå›¾ä¹¦å€Ÿé˜…æ±‡æ€»
- `dept_lend_summary`ï¼šé™¢ç³»å€Ÿé˜…æ±‡æ€»
- `subject_lend_summary`ï¼šä¸»é¢˜åˆ†ç±»æ±‡æ€»
- `daily_stats`ï¼šæ¯æ—¥ç»Ÿè®¡

### èšåˆè¡¨ï¼ˆ5å¼ ï¼‰
- `hot_books`ï¼šçƒ­é—¨å›¾ä¹¦TOP100
- `active_users`ï¼šæ´»è·ƒç”¨æˆ·TOP100
- `dept_preference`ï¼šé™¢ç³»åå¥½
- `lend_trend`ï¼šå€Ÿé˜…è¶‹åŠ¿
- `operation_dashboard`ï¼šè¿è¥çœ‹æ¿

### æ¨èä¸åŠŸèƒ½è¡¨ï¼ˆ11å¼ ï¼‰
- `book_recommendations`ï¼šä¸ªæ€§åŒ–æ¨è
- `recommendation_stats`ï¼šæ¨èæ•ˆæœç»Ÿè®¡
- `user_profile`ï¼šç”¨æˆ·ç”»åƒåˆ†æ
- `major_reading_profile`ï¼šä¸“ä¸šé˜…è¯»ç‰¹å¾
- `overdue_analysis`ï¼šé€¾æœŸåˆ†æ
- `collection_utilization_analysis`ï¼šé¦†è—åˆ©ç”¨åˆ†æ
- `publisher_analysis`ï¼šå‡ºç‰ˆç¤¾åˆ†æ
- `publish_year_analysis`ï¼šå‡ºç‰ˆå¹´ä»½åˆ†æ
- `time_distribution`ï¼šæ—¶é—´åˆ†å¸ƒåˆ†æ
- `user_ranking`ï¼šç”¨æˆ·æ’å
- `book_recommend_base`ï¼šå›¾ä¹¦æ¨èåŸºç¡€è¡¨

### æ•°æ®æŒ–æ˜è¡¨ï¼ˆ3å¼ ï¼‰
- `book_association_rules`ï¼šå›¾ä¹¦å…³è”è§„åˆ™ï¼ˆFPGrowthï¼‰
- `user_clusters`ï¼šç”¨æˆ·èšç±»åˆ†ç¾¤ï¼ˆK-meansï¼‰
- `cluster_summary`ï¼šèšç±»ç»Ÿè®¡æ‘˜è¦

### é¢„æµ‹åˆ†æè¡¨ï¼ˆ3å¼ ï¼‰
- `overdue_risk_prediction`ï¼šé€¾æœŸé£é™©é¢„æµ‹
- `lend_trend_prediction`ï¼šå€Ÿé˜…è¶‹åŠ¿é¢„æµ‹
- `book_heat_prediction`ï¼šå›¾ä¹¦çƒ­åº¦é¢„æµ‹

## ğŸ§ª æµ‹è¯•

### æ•°æ®é“¾è·¯éªŒè¯

```bash
cd deploy
bash verify.sh
```

éªŒè¯è„šæœ¬ä¼šæ£€æŸ¥ï¼š
- HDFSæ•°æ®æ–‡ä»¶
- Hiveè¡¨ç»“æ„
- æ•°æ®é‡ç»Ÿè®¡
- MySQLè¡¨æ•°æ®

### APIæµ‹è¯•

è®¿é—®Swaggeræ–‡æ¡£è¿›è¡Œæ¥å£æµ‹è¯•ï¼š
http://localhost:8080/api/swagger-ui/index.html

## ğŸ“– ä½¿ç”¨è¯´æ˜

### æ•°æ®æ›´æ–°æµç¨‹

1. **å‡†å¤‡æ–°æ•°æ®**ï¼šå°†æ–°çš„CSVæ–‡ä»¶ä¸Šä¼ åˆ°HDFS
2. **æ‰§è¡Œæ•°æ®é“¾è·¯**ï¼šè¿è¡Œ `deploy/run.sh` é‡æ–°å¤„ç†æ•°æ®
3. **éªŒè¯æ•°æ®**ï¼šè¿è¡Œ `deploy/verify.sh` éªŒè¯æ•°æ®å®Œæ•´æ€§
4. **é‡å¯æœåŠ¡**ï¼šé‡å¯åç«¯æœåŠ¡ä½¿æ–°æ•°æ®ç”Ÿæ•ˆ

### æ¨èç®—æ³•æ›´æ–°

```bash
# æ‰§è¡Œæ¨èç®—æ³•
spark-submit --master yarn \
  --jars /opt/app/spark/jars/mysql-connector-j-8.0.33.jar \
  bigdata/spark/05_book_recommend.py
```

### é«˜çº§æ•°æ®æŒ–æ˜æ›´æ–°

```bash
# æ‰§è¡Œé«˜çº§æ•°æ®æŒ–æ˜ï¼ˆFPGrowthå…³è”è§„åˆ™ + K-meansç”¨æˆ·èšç±»ï¼‰
spark-submit --master yarn \
  --jars /opt/app/spark/jars/mysql-connector-j-8.0.33.jar \
  bigdata/spark/06_advanced_analysis.py
```

### é¢„æµ‹æ¨¡å‹æ›´æ–°

```bash
# æ‰§è¡Œé¢„æµ‹æ¨¡å‹
spark-submit --master yarn \
  --jars /opt/app/spark/jars/mysql-connector-j-8.0.33.jar \
  bigdata/spark/07_prediction_models.py
```

## ğŸ› å¸¸è§é—®é¢˜

### 1. Hiveè¡¨åˆ›å»ºå¤±è´¥

**é—®é¢˜**ï¼šæ‰§è¡ŒHive SQLæ—¶æç¤ºè¡¨å·²å­˜åœ¨

**è§£å†³**ï¼š
```bash
# åˆ é™¤æ—§è¡¨
hive -e "DROP TABLE IF EXISTS library_ods.ods_library_lend;"
# é‡æ–°æ‰§è¡Œåˆ›å»ºè„šæœ¬
hive -f bigdata/hive/01_create_ods.sql
```

### 2. Sparkä»»åŠ¡å¤±è´¥

**é—®é¢˜**ï¼šSparkä»»åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œæç¤ºå†…å­˜ä¸è¶³

**è§£å†³**ï¼š
- æ£€æŸ¥YARNèµ„æºåˆ†é…
- è°ƒæ•´Spark executorå†…å­˜é…ç½®
- å‡å°‘æ•°æ®é‡æˆ–å¢åŠ é›†ç¾¤èµ„æº

### 3. MySQLè¿æ¥å¤±è´¥

**é—®é¢˜**ï¼šSparkå¯¼å‡ºæ•°æ®åˆ°MySQLå¤±è´¥

**è§£å†³**ï¼š
- æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
- ç¡®è®¤MySQL JDBCé©±åŠ¨è·¯å¾„æ­£ç¡®
- æ£€æŸ¥MySQLç”¨æˆ·æƒé™

### 4. å‰ç«¯APIè¯·æ±‚å¤±è´¥

**é—®é¢˜**ï¼šå‰ç«¯æ— æ³•è®¿é—®åç«¯API

**è§£å†³**ï¼š
- æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨
- ç¡®è®¤CORSé…ç½®æ­£ç¡®
- æ£€æŸ¥APIåœ°å€é…ç½®

## ï¿½ ç³»ç»Ÿå±•ç¤º

> å°†æˆªå›¾æ”¾å…¥ `docs/images/` ç›®å½•ï¼Œå›¾ç‰‡å‘½åè§„èŒƒå¦‚ä¸‹

### å›¾ç‰‡å‘½åè§„èŒƒ

| åºå· | æ–‡ä»¶å | è¯´æ˜ |
|-----|--------|------|
| 1 | `01_login.png` | ç™»å½•é¡µé¢ |
| 2 | `02_admin_dashboard.png` | é«˜çº§ç®¡ç†å‘˜ - è¿è¥ç»¼åˆçœ‹æ¿ |
| 3 | `03_admin_user_profile.png` | é«˜çº§ç®¡ç†å‘˜ - ç”¨æˆ·ç”»åƒåˆ†æ |
| 4 | `04_admin_prediction.png` | é«˜çº§ç®¡ç†å‘˜ - é¢„æµ‹åˆ†æ |
| 5 | `05_admin_book_association.png` | é«˜çº§ç®¡ç†å‘˜ - å›¾ä¹¦å…³è”åˆ†æ |
| 6 | `06_admin_user_clustering.png` | é«˜çº§ç®¡ç†å‘˜ - ç”¨æˆ·èšç±»åˆ†æ |
| 7 | `07_librarian_dashboard.png` | å›¾ä¹¦ç®¡ç†å‘˜ - å·¥ä½œå° |
| 8 | `08_librarian_book_ranking.png` | å›¾ä¹¦ç®¡ç†å‘˜ - å›¾ä¹¦æ’è¡Œä¸åˆ†æ |
| 9 | `09_librarian_active_users.png` | å›¾ä¹¦ç®¡ç†å‘˜ - æ´»è·ƒç”¨æˆ·åˆ†æ |
| 10 | `10_librarian_overdue.png` | å›¾ä¹¦ç®¡ç†å‘˜ - é€¾æœŸæƒ…å†µåˆ†æ |
| 11 | `11_librarian_time_distribution.png` | å›¾ä¹¦ç®¡ç†å‘˜ - æ—¶é—´åˆ†å¸ƒåˆ†æ |
| 12 | `12_user_dashboard.png` | æ™®é€šç”¨æˆ· - ä¸ªäººä¸­å¿ƒ |
| 13 | `13_user_recommendations.png` | æ™®é€šç”¨æˆ· - å›¾ä¹¦æ¨è |
| 14 | `14_user_reading_profile.png` | æ™®é€šç”¨æˆ· - æˆ‘çš„é˜…è¯»ç”»åƒ |
| 15 | `15_user_ranking.png` | æ™®é€šç”¨æˆ· - æˆ‘çš„æ’å |

### ç™»å½•é¡µé¢

![ç™»å½•é¡µé¢](docs/images/01_login.png)

### é«˜çº§ç®¡ç†å‘˜é¡µé¢

| è¿è¥ç»¼åˆçœ‹æ¿ | ç”¨æˆ·ç”»åƒåˆ†æ |
|-------------|-------------|
| ![è¿è¥çœ‹æ¿](docs/images/02_admin_dashboard.png) | ![ç”¨æˆ·ç”»åƒ](docs/images/03_admin_user_profile.png) |

| é¢„æµ‹åˆ†æ | å›¾ä¹¦å…³è”åˆ†æ |
|---------|-------------|
| ![é¢„æµ‹åˆ†æ](docs/images/04_admin_prediction.png) | ![å›¾ä¹¦å…³è”](docs/images/05_admin_book_association.png) |

| ç”¨æˆ·èšç±»åˆ†æ |
|-------------|
| ![ç”¨æˆ·èšç±»](docs/images/06_admin_user_clustering.png) |

### å›¾ä¹¦ç®¡ç†å‘˜é¡µé¢

| å·¥ä½œå° | å›¾ä¹¦æ’è¡Œä¸åˆ†æ |
|-------|---------------|
| ![å·¥ä½œå°](docs/images/07_librarian_dashboard.png) | ![å›¾ä¹¦æ’è¡Œ](docs/images/08_librarian_book_ranking.png) |

| æ´»è·ƒç”¨æˆ·åˆ†æ | é€¾æœŸæƒ…å†µåˆ†æ |
|-------------|-------------|
| ![æ´»è·ƒç”¨æˆ·](docs/images/09_librarian_active_users.png) | ![é€¾æœŸåˆ†æ](docs/images/10_librarian_overdue.png) |

| æ—¶é—´åˆ†å¸ƒåˆ†æ |
|-------------|
| ![æ—¶é—´åˆ†å¸ƒ](docs/images/11_librarian_time_distr

## ğŸ¤ è´¡çŒ®

æœ¬é¡¹ç›®ä¸ºæ¯•ä¸šè®¾è®¡é¡¹ç›®ï¼Œæ¬¢è¿æå‡ºå»ºè®®å’Œåé¦ˆã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶ç›®çš„ã€‚

## ğŸ‘¤ ä½œè€…ï¼šæ—æ–‡ä¿Š

**æ¯•ä¸šè®¾è®¡é¡¹ç›®**

è¯¾é¢˜ï¼šåŸºäºHive+Sparkçš„é«˜æ ¡å›¾ä¹¦é¦†å€Ÿé˜…è¡Œä¸ºåˆ†æç³»ç»Ÿçš„è®¾è®¡ä¸å®ç°



